(this.webpackJsonpmytunes=this.webpackJsonpmytunes||[]).push([[0],{34:function(e,t,n){},36:function(e,t,n){},46:function(e,t,n){},47:function(e,t,n){},48:function(e,t,n){},50:function(e,t,n){"use strict";n.r(t);var a=n(1),c=n.n(a),r=n(26),s=n.n(r),i=(n(34),n(10)),l=n(11),o=n(12),u=n(13),h=n(7),d=n(15),b=n(19),j=n(14),m=n(6),p=n.n(m),f=n(21),O="user",x=function(e){return localStorage.setItem(O,JSON.stringify(e))},g=function(e,t){return function(n){setTimeout((function(){n(e)}),t)}},v=function(){return new Promise((function(e){var t=JSON.parse(localStorage.getItem(O));null===t&&(t={}),g(t,0)(e)}))},k=function(e){return new Promise((function(t){x(Object(f.a)(Object(f.a)({},{name:"",email:"",image:"",description:""}),e)),g("OK",1500)(t)}))},y=n(51),N=n(52),C=(n(36),n(2)),w=function(e){Object(o.a)(n,e);var t=Object(u.a)(n);function n(){var e;return Object(i.a)(this,n),(e=t.call(this)).handleChange=function(t){var n=t.target,a=n.name,c=n.value;e.setState(Object(b.a)({},a,c))},e.handleClick=function(){var t=Object(d.a)(p.a.mark((function t(n){var a;return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n.preventDefault(),a=e.state.login,e.setState({loading:!0}),t.next=5,k({name:a});case 5:e.setState({nextPag:!0});case 6:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.state={login:"",nextPag:!1,loading:!1},e.handleChange=e.handleChange.bind(Object(j.a)(e)),e.handleClick=e.handleClick.bind(Object(j.a)(e)),e}return Object(l.a)(n,[{key:"render",value:function(){var e=this.state,t=e.login,n=e.loading,a=e.nextPag;return Object(C.jsx)("div",{className:"page-container",children:Object(C.jsxs)("div",{className:"login-container",children:[Object(C.jsxs)("h1",{className:"title",children:[Object(C.jsx)("kbd",{children:"_MyTunes_"}),Object(C.jsx)("samp",{children:" Music Trial"})]}),Object(C.jsxs)("section",{className:"login",children:[Object(C.jsx)(y.a,{id:"input-login",name:"login",hidden:n,value:t,placeholder:"Insert your user name",onChange:this.handleChange}),Object(C.jsx)(N.a,{hidden:n,onClick:this.handleClick,disabled:t.length<3,color:"primary",children:"Enter"}),n&&Object(C.jsx)("span",{className:"c-loader"}),a&&Object(C.jsx)(h.a,{to:"/search"})]})]})})}}]),n}(a.Component),S=w,I=n(18),A=(n(46),function(e){Object(o.a)(n,e);var t=Object(u.a)(n);function n(){var e;return Object(i.a)(this,n),(e=t.call(this)).userFunc=Object(d.a)(p.a.mark((function t(){var n,a;return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,v();case 2:n=t.sent,a=n.name,e.setState({name:a,loading:!1});case 5:case"end":return t.stop()}}),t)}))),e.state={name:"",loading:!0},e}return Object(l.a)(n,[{key:"componentDidMount",value:function(){this.userFunc()}},{key:"linkGenerator",value:function(e,t){return Object(C.jsx)("li",{children:Object(C.jsx)(I.b,{to:"/".concat(t),className:"indice-item",children:e})})}},{key:"render",value:function(){var e=this.state.loading;return Object(C.jsxs)("header",{hidden:e,children:[Object(C.jsx)("div",{className:"container-left",children:Object(C.jsx)("h1",{children:Object(C.jsx)("kbd",{children:"_MyTunes_"})})}),Object(C.jsx)("ul",{className:"container-right",children:this.linkGenerator("Search","search")})]})}}]),n}(a.Component)),P=function(){var e=Object(d.a)(p.a.mark((function e(t){var n,a,c,r,s,i;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=encodeURI(t).replaceAll("%20","+"),a="https://itunes.apple.com/search?entity=album&term=".concat(n,"&attribute=allArtistTerm"),e.next=4,fetch(a);case 4:return c=e.sent,e.next=7,c.json();case 7:return r=e.sent,s=r.results,i=s.map((function(e){return{artistId:e.artistId,artistName:e.artistName,collectionId:e.collectionId,collectionName:e.collectionName,collectionPrice:e.collectionPrice,artworkUrl100:e.artworkUrl100,releaseDate:e.releaseDate,trackCount:e.trackCount,primaryGenreName:e.primaryGenreName,copyright:e.copyright,country:e.country}})),e.abrupt("return",i);case 11:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),T=P,G=n(53),J=n(54),D=n(55),M=n(56),U=(n(47),function(e){Object(o.a)(n,e);var t=Object(u.a)(n);function n(){return Object(i.a)(this,n),t.apply(this,arguments)}return Object(l.a)(n,[{key:"render",value:function(){var e=this.props.album,t=e.collectionId,n=e.collectionName,a=e.releaseDate,c=e.artworkUrl100,r=a.split("T");return Object(C.jsxs)(G.a,{className:"album-card",children:[Object(C.jsxs)(J.a,{className:"text-center",children:[Object(C.jsx)(D.a,{tag:"p",className:"fs-6 fw-bold",children:n.slice(0,17)}),Object(C.jsx)(M.a,{tag:"p",className:"mb-2 fw-bold text-muted",children:r[0].replace(/-/g,"/")})]}),Object(C.jsx)("img",{height:"55%",src:c,alt:"Album Cover"}),Object(C.jsx)(J.a,{className:"d-flex justify-content-around",children:Object(C.jsx)(I.b,{className:"fw-bold link-danger",to:"album/".concat(t),children:"Listen to the Album"})})]})}}]),n}(a.Component));U.defaultProps={album:[]};var B=U,F=n(57),_=n(59),K=(n(48),function(e){Object(o.a)(n,e);var t=Object(u.a)(n);function n(){var e;return Object(i.a)(this,n),(e=t.call(this)).handleChange=function(t){var n=t.target,a=n.name,c=n.value;e.setState(Object(b.a)({},a,c))},e.handleClick=function(){var t=Object(d.a)(p.a.mark((function t(n){var a,c;return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n.preventDefault(),a=e.state.search,e.setState({loading:!0,searched:a}),t.next=5,T(a);case 5:c=t.sent,e.setState({search:"",visible:!0,loading:!1,albums:c});case 7:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.state={search:"",searched:"",albums:[],visible:!1,loading:!1},e.handleChange=e.handleChange.bind(Object(j.a)(e)),e.handleClick=e.handleClick.bind(Object(j.a)(e)),e}return Object(l.a)(n,[{key:"albumsGeneration",value:function(e,t){var n=this.state.loading;return Object(C.jsxs)("div",{children:[Object(C.jsx)("h2",{className:"text-center",children:"".concat(e.length," albums from ").concat(t)}),Object(C.jsx)("div",{hidden:n,className:"album-list",children:e.length>0?e.map((function(e){return Object(C.jsx)(B,{album:e},e.collectionId)})):Object(C.jsx)("p",{children:"Nenhum \xe1lbum foi encontrado"})})]})}},{key:"render",value:function(){var e=this.state,t=e.search,n=e.searched,a=e.albums,c=e.visible,r=e.loading;return Object(C.jsxs)("div",{children:[Object(C.jsx)(A,{}),Object(C.jsx)("form",{className:"container-search",children:Object(C.jsx)("div",{children:Object(C.jsxs)(F.a,{children:[Object(C.jsx)(y.a,{type:"search",name:"search",value:t,placeholder:"band",onChange:this.handleChange}),Object(C.jsx)(_.a,{addonType:"append",children:Object(C.jsx)(N.a,{color:"danger",type:"submit",disabled:t.length<3,onClick:this.handleClick,children:"search"})})]})})}),c&&this.albumsGeneration(a,n),r&&Object(C.jsx)("p",{className:"c-loader fixed"})]})}}]),n}(a.Component)),E=K,L=function(){var e=Object(d.a)(p.a.mark((function e(t){var n,a;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://itunes.apple.com/lookup?id=".concat(t,"&entity=song"));case 2:return n=e.sent,e.next=5,n.json();case 5:return a=e.sent,e.abrupt("return",a.results);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),R=L,q=function(e){Object(o.a)(n,e);var t=Object(u.a)(n);function n(){var e;Object(i.a)(this,n);for(var a=arguments.length,c=new Array(a),r=0;r<a;r++)c[r]=arguments[r];return(e=t.call.apply(t,[this].concat(c))).handleChange=function(t){var n=t.target,a=e.props,c=a.music;(0,a.callback)(n.checked,c)},e}return Object(l.a)(n,[{key:"render",value:function(){var e=this.props.music;return Object(C.jsxs)("div",{className:"mx-4 d-flex align-items-center bd-highlight",children:[Object(C.jsx)("div",{style:{width:"15%"},className:"text-center fs-6 p-2 bd-highlight bg-dark bg-opacity-50",children:e.trackName}),Object(C.jsx)("audio",{className:"p-2 flex-grow-1 bd-highlight",src:e.previewUrl,controls:!0,children:Object(C.jsx)("track",{kind:"captions"})}),Object(C.jsxs)("div",{className:"form-check form-switch",children:[Object(C.jsx)("label",{className:"form-check-label",htmlFor:"flexSwitchCheckChecked ".concat(e.trackNumber),children:"Favorite"}),Object(C.jsx)("input",{name:e.trackName,onChange:this.handleChange,className:"form-check-input",type:"checkbox",id:"flexSwitchCheckChecked ".concat(e.trackNumber)})]})]})}}]),n}(a.Component);q.defaultProps={music:{},callback:void 0};var z=q,H=n(58),Q=n(29),V="favorite_songs";JSON.parse(localStorage.getItem(V))||localStorage.setItem(V,JSON.stringify([]));var W=function(){return JSON.parse(localStorage.getItem(V))},X=function(e){return localStorage.setItem(V,JSON.stringify(e))},Y=function(e){return function(t){setTimeout((function(){t(e)}),500)}},Z=function(e){return new Promise((function(t){if(e){var n=W();X([].concat(Object(Q.a)(n),[e]))}Y("OK")(t)}))},$=function(e){return new Promise((function(t){var n=W();X(n.filter((function(t){return t.trackId!==e.trackId}))),Y("OK")(t)}))},ee=function(e){Object(o.a)(n,e);var t=Object(u.a)(n);function n(){var e;return Object(i.a)(this,n),(e=t.call(this)).getAlbumById=function(){var t=Object(d.a)(p.a.mark((function t(n){var a;return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,R(n);case 2:a=t.sent,e.setState({album:a[0],tracks:a.slice(1)});case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.checkCapture=function(){var e=Object(d.a)(p.a.mark((function e(t,n){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t){e.next=6;break}return e.next=3,Z(n);case 3:e.t0=e.sent,e.next=9;break;case 6:return e.next=8,$(n);case 8:e.t0=e.sent;case 9:return e.next=11,e.t0;case 11:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),e.state={album:{},tracks:[]},e.getAlbumById=e.getAlbumById.bind(Object(j.a)(e)),e.checkCapture=e.checkCapture.bind(Object(j.a)(e)),e}return Object(l.a)(n,[{key:"componentDidMount",value:function(){var e=Object(d.a)(p.a.mark((function e(){var t;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.props.match.params.id,e.next=3,this.getAlbumById(t);case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this,t=this.state,n=t.album,a=t.tracks,c=t.loading;return Object(C.jsxs)("div",{children:[Object(C.jsx)(A,{}),Object(C.jsxs)("main",{className:"d-flex flex-column",children:[Object(C.jsxs)("div",{className:"p-5 d-flex justify-content-center align-items-center",children:[Object(C.jsx)("img",{width:"250px",className:"rounded-circle",id:"album-img",src:n.artworkUrl100,alt:"Album-Img"}),Object(C.jsxs)("ul",{className:"list-group list-group-flush",children:[Object(C.jsx)("li",{className:"list-group-item bg-transparent",children:"Artist: ".concat(n.artistName)}),Object(C.jsx)("li",{className:"list-group-item bg-transparent",children:"Album: ".concat(n.collectionName)}),Object(C.jsx)("li",{className:"list-group-item bg-transparent",children:"Tracks: ".concat(n.trackCount)}),Object(C.jsx)("li",{className:"list-group-item bg-transparent",children:"Genre: ".concat(n.primaryGenreName)}),Object(C.jsx)("li",{className:"list-group-item bg-transparent",children:"Country: ".concat(n.country)})]})]}),Object(C.jsx)("div",{className:"tracks",hidden:c,children:a.map((function(t){return Object(C.jsx)(z,{music:t,callback:e.checkCapture},t.trackId)}))})]}),c&&Object(C.jsx)(H.a,{style:{width:"3rem",height:"3rem"}})]})}}]),n}(a.Component),te=ee,ne=function(e){Object(o.a)(n,e);var t=Object(u.a)(n);function n(){return Object(i.a)(this,n),t.apply(this,arguments)}return Object(l.a)(n,[{key:"render",value:function(){return Object(C.jsx)("div",{"data-testid":"page-not-found",children:Object(C.jsx)("p",{children:"NotFound"})})}}]),n}(a.Component),ae=ne,ce=function(e){Object(o.a)(n,e);var t=Object(u.a)(n);function n(){return Object(i.a)(this,n),t.apply(this,arguments)}return Object(l.a)(n,[{key:"render",value:function(){return Object(C.jsxs)(h.d,{children:[Object(C.jsx)(h.b,{exact:!0,path:"/",component:S}),Object(C.jsx)(h.b,{path:"/search",component:E}),Object(C.jsx)(h.b,{path:"/album/:id",component:te}),Object(C.jsx)(h.b,{path:"",component:ae})]})}}]),n}(a.Component),re=ce;n(49);s.a.render(Object(C.jsx)(c.a.StrictMode,{children:Object(C.jsx)(I.a,{basename:"/MyTunes",children:Object(C.jsx)(re,{})})}),document.getElementById("root"))}},[[50,1,2]]]);
//# sourceMappingURL=main.0ec12921.chunk.js.map